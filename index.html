<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>浙江长兴金太阳电源有限公司</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .battery-info {
            display: none; /* 默认隐藏所有电池信息 */
        }
        
        /* 添加以下样式确保内容可见性 */
        .battery-info.show {
            display: block !important;
        }
        
        /* 针对微信浏览器的特殊处理 */
        @media screen and (max-width: 768px) {
            .battery-info {
                margin: 10px 0;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo-container">
            <img src="images/logo.png" alt="KISUN" class="logo">
            <h1 class="company-name">浙江长兴金太阳电源有限公司</h1>
        </div>
    </header>

    <main class="main-content">
        <section class="info-card battery-info" data-id="12345">
            <div class="card-header">
                <i class="fas fa-battery-full"></i>
                <h2>电池信息</h2>
            </div>
            <div class="card-content">
                <div class="info-item">
                    <h3>锂电池系列</h3>
                    <p>容量: 100Ah</p>
                    <p>电压: 12.8V</p>
                    <p>循环寿命: >2000次</p>
                </div>
            </div>
        </section>

        <section class="info-card battery-info" data-id="12346">
            <div class="card-header">
                <i class="fas fa-battery-full"></i>
                <h2>电池信息</h2>
            </div>
            <div class="card-content">
                <div class="info-item">
                    <h3>磷酸铁锂电池</h3>
                    <p>容量: 200Ah</p>
                    <p>电压: 24V</p>
                    <p>循环寿命: >3000次</p>
                </div>
            </div>
        </section>

        <section class="info-card battery-gallery">
            <div class="card-header">
                <i class="fas fa-images"></i>
                <h2>电池图片</h2>
            </div>
            <div class="gallery-slider">
                <div class="gallery-item">
                    <img src="images/industrial-battery.jpg" alt="电池产品1">
                    <p>工业级锂电池</p>
                </div>
                <div class="gallery-item">
                    <img src="images/home-battery.jpg" alt="电池产品2">
                    <p>家用储能电池</p>
                </div>
            </div>
        </section>

        <section class="info-card company-photos">
            <div class="card-header">
                <i class="fas fa-building"></i>
                <h2>金太阳企业照片</h2>
            </div>
            <div class="company-slider">
                <div class="company-item">
                    <img src="images/factory.jpg" alt="公司外观">
                    <p>现代化厂房</p>
                </div>
                <div class="company-item">
                    <img src="images/production-line.jpg" alt="生产线">
                    <p>自动化生产线</p>
                </div>
            </div>
        </section>

        <section class="info-card links-section">
            <div class="card-header">
                <i class="fas fa-link"></i>
                <h2>更多信息</h2>
            </div>
            <div class="links-container">
                <a href="#" class="link-item">
                    <i class="fas fa-info-circle"></i>
                    <span>企业介绍</span>
                </a>
                <a href="#" class="link-item">
                    <i class="fas fa-newspaper"></i>
                    <span>行业新闻</span>
                </a>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>© 2024 浙江长兴金太阳电源有限公司 版权所有</p>
    </footer>

    <script src="js/main.js"></script>

    <script>
        console.log('页面环境信息：', {
            userAgent: navigator.userAgent,
            url: window.location.href,
            search: window.location.search,
            hash: window.location.hash
        });

        // 获取URL参数
        function getUrlParameter(name) {
            // 针对微信浏览器的特殊处理
            let url = window.location.href;
            let search = '';
            
            // 检查是否是微信浏览器
            let isWechat = /MicroMessenger/i.test(navigator.userAgent);
            console.log('是否微信浏览器:', isWechat);
            
            if (isWechat) {
                // 微信浏览器：直接从完整URL中获取参数
                let questionMarkIndex = url.indexOf('?');
                if (questionMarkIndex > -1) {
                    search = url.substring(questionMarkIndex);
                }
            } else {
                // 普通浏览器：使用 location.search
                search = window.location.search;
            }
            
            console.log('处理后的search:', search);
            
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(search);
            
            let value = results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            console.log('获取到的参数值:', name, '=', value);
            return value;
        }

        // 显示对应ID的电池信息
        function showBatteryInfo() {
            const id = getUrlParameter('id');
            console.log('当前ID:', id);
            console.log('当前完整URL:', window.location.href);
            
            const batteryInfos = document.querySelectorAll('.battery-info');
            
            // 先显示所有信息（默认状态）
            batteryInfos.forEach(info => {
                info.style.display = 'block';
            });

            // 如果有ID参数，则只显示对应的信息
            if (id) {
                batteryInfos.forEach(info => {
                    if (info.getAttribute('data-id') === id) {
                        info.style.display = 'block';
                        info.classList.add('show');
                        console.log('显示ID为', id, '的电池信息');
                    } else {
                        info.style.display = 'none';
                        info.classList.remove('show');
                    }
                });
            }
        }

        // 添加多个事件监听，确保在各种情况下都能执行
        document.addEventListener('DOMContentLoaded', showBatteryInfo);
        window.addEventListener('load', showBatteryInfo);
        
        // 特别添加一个延迟执行，应对某些特殊情况
        setTimeout(showBatteryInfo, 500);
    </script>
</body>
</html> 